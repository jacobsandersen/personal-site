---
import UnknownFormatRenderer from './UnknownFormatRenderer.astro'
import HEntryRenderer from './hentry/HEntryRenderer.astro'
import { DocumentRenderProps, RenderMethod } from '~/types/mf2-rendering'

export interface Props extends DocumentRenderProps {}

const { doc, renderMethod = RenderMethod.Full, class: className } = Astro.props as DocumentRenderProps
const type = doc['type'] ? (doc['type'][0] as string) : 'unknown'

let Renderer: typeof HEntryRenderer | 
              typeof UnknownFormatRenderer

if (type === 'h-entry') {
  Renderer = HEntryRenderer
} else {
  Renderer = UnknownFormatRenderer
}
---

<Renderer doc={doc} renderMethod={renderMethod} class={className} />
